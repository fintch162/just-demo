$('#chart').html("<%= escape_javascript(render :partial => 'date_wise_report').html_safe %>");
$('#manual_payment_data').html("<%= escape_javascript(render :partial => 'manual_payments') %>");

$('#sample_3').dataTable({
    "footerCallback": function ( row, data, start, end, display ) {
            var api = this.api(), data;
 
            // Remove the formatting to get integer data for summation
            var intVal = function ( i ) {
                return typeof i === 'string' ?
                    i.replace(/[\$,]/g, '')*1 :
                    typeof i === 'number' ?
                        i : 0;
            };
 
            // Total over this page
            pageTotalBal = api
                .column( 5, { page: 'current'} )
                .data()
                .reduce( function (a, b) {
                    return intVal(a) + intVal(b);
                }, 0 );
            pageTotalRef = api
                .column( 4, { page: 'current'} )
                .data()
                .reduce( function (a, b) {
                    return intVal(a) + intVal(b);
                }, 0 );

            // Update footer
            $( api.column( 5 ).footer() ).html(pageTotalBal);
            $( api.column( 4 ).footer() ).html(pageTotalRef);
        },
    "aLengthMenu": [
          [50, 100, 200, 500, -1],
          [50, 100, 200, 500, "All"] // change per page values here
      ],
      // set the initial value
      "iDisplayLength": -1,
      "paging": true,
      "oLanguage": {
        "sLengthMenu": "_MENU_ records",
        "oPaginate": {
            "pagingType": "full_numbers"
        },
        "sEmptyTable": "No student records"
       },
      "aoColumnDefs": [{
          'bSortable': true,
          'aTargets': [0]
        }
      ]
      
  });
